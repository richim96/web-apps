<!--
    :author: riccardo mei
    :encoding: utf-8
-->
{% extends 'schema.html' %}
{% block content%}
    <div class="container my-5" data-ng-app="cocktailApp"
        data-ng-controller="appController">

        <h1 class="display">
            <img class="decor" src="static/icon.png" alt="cocktail-vector-art">
            The Cocktail Database
            <img class="decor" src="static/icon.png" alt="cocktail-vector-art">
        </h1>

        <!-- SEARCH MODULE -->
        <form class="my-3 input-group">
            <label for="inpCockail" class="input-group-text">Cocktail</label>
            <input id="inpCockail" class="form-control" type="text"
                data-ng-model="inpCocktail" >
            <input type="button" class="btn btn-primary" value="search"
                data-ng-click="findCocktails()">
        </form>

        <!-- RESULTS TABLE -->
        <table class="table table-striped table-danger table-hover">
            <thead>
                <tr id="tableHead">
                    <th data-ng-click="myOrderBy('strDrink')">Name</th>
                    <th data-ng-click="myOrderBy('strCategory')">Category</th>
                    <th data-ng-click="myOrderBy('strGlass')">Serving Glass</th>
                </tr>
            </thead>
            <tbody>
                <tr data-ng-repeat="drink in cocktailResults | orderBy:orderTableBy"
                    data-ng-click="cocktailCard(drink)">
                    <td data-ng-bind="drink.strDrink"></td>
                    <td data-ng-bind="drink.strCategory"></td>
                    <td data-ng-bind="drink.strGlass"></td>
                </tr>
            </tbody>
        </table>

        <!-- CARD VIEW -->
        <div id="modal-drink" class="modal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title"
                            data-ng-bind="chosenCocktail.strDrink">
                        </h1>
                        <button type="button" class="btn-close" aria-label="Close"
                            data-bs-dismiss="modal">
                        </button>
                    </div>
                    <div class="modal-body">
                        <p id="image-p" data-ng-bind="drinkImage()"></p>
                        <h5 class="h5">Ingredients:</h5>
                        <p data-ng-repeat="ingr in ingredients" data-ng-bind="
                            (chosenCocktail[ingr] !== null) ? chosenCocktail[ingr] : '' ">
                        </p>
                        <h5 class="h5">Preparation:</h5>
                        <p data-ng-bind="chosenCocktail.strInstructions"></p>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
{% endblock %}
